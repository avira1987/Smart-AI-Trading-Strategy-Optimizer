# ุฑุงูููุง ุชุณุช ู ุนุจโุงุจ ุณุงุช

## ุงุณฺฉุฑูพุชโูุง ุชุณุช

### 1. ุชุณุช ุณูุงูุช ุณุงุช (`test_site.ps1`)

ุงู ุงุณฺฉุฑูพุช ุชูุงู ุณุฑูุณโูุง ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ:

```powershell
.\test_site.ps1
```

ุง ุงุฒ ูุงู batch:
```cmd
test_site.bat
```

#### ุชุณุชโูุง ุงูุฌุงู ุดุฏู:

1. โ **ุจุฑุฑุณ ูพูุฑุช 80** - ุขุง ุณุงุช ุฏุฑ ุฏุณุชุฑุณ ุงุณุชุ
2. โ **ุจุฑุฑุณ Backend (ูพูุฑุช 8000)** - ุขุง API ุฏุฑ ุฏุณุชุฑุณ ุงุณุชุ
3. โ **ุจุฑุฑุณ Backend via Proxy** - ุขุง API ุงุฒ ุทุฑู Nginx ุฏุฑ ุฏุณุชุฑุณ ุงุณุชุ
4. โ **ุจุฑุฑุณ Redis** - ุขุง Redis ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุชุ
5. โ **ุจุฑุฑุณ Frontend Build** - ุขุง ูุงูโูุง build ุดุฏู ูุฌูุฏ ุฏุงุฑูุฏุ
6. โ **ุจุฑุฑุณ Nginx Process** - ุขุง Nginx ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุชุ
7. โ **ุจุฑุฑุณ Django Process** - ุขุง Backend ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุชุ
8. โ **ุจุฑุฑุณ Celery Processes** - ุขุง Celery ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุชุ

## ุงุณุชูุงุฏู

### ูุฑุญูู 1: ุฑุงูโุงูุฏุงุฒ ุณุงุช

```powershell
.\start.ps1
```

ุง:
```cmd
start.bat
```

### ูุฑุญูู 2: ุชุณุช ุณุงุช

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒุ ุงุณฺฉุฑูพุช ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```powershell
.\test_site.ps1
```

## ูุดฺฉูุงุช ุฑุงุฌ ู ุฑุงูโุญูโูุง

### ูุดฺฉู 1: ูพูุฑุช 80 ุงุดุบุงู ุงุณุช

**ุนูุงุฆู:**
- ุฎุทุง: `Port 80 is already in use`
- ุชุณุช: `Port 80 is not open`

**ุฑุงูโุญู:**
```powershell
# ุจุฑุฑุณ ฺู ูพุฑูุณุณ ุงุฒ ูพูุฑุช 80 ุงุณุชูุงุฏู ูโฺฉูุฏ
netstat -ano | findstr :80

# ูุชููู ฺฉุฑุฏู IIS
iisreset /stop

# ุง ูุชููู ฺฉุฑุฏู ุณุฑูุณ ุฎุงุต
taskkill /PID <PID> /F
```

### ูุดฺฉู 2: Frontend Build ูุดุฏู

**ุนูุงุฆู:**
- ุฎุทุง: `Frontend dist folder not found`
- ุชุณุช: `Frontend build exists` = โ

**ุฑุงูโุญู:**
```powershell
cd frontend
npm run build
cd ..
```

### ูุดฺฉู 3: Backend ุงุฌุฑุง ููโุดูุฏ

**ุนูุงุฆู:**
- ุฎุทุง: `Backend port 8000 is not open`
- ุชุณุช: `Django process not found`

**ุฑุงูโุญู:**
```powershell
cd backend
python manage.py runserver 127.0.0.1:8000
```

### ูุดฺฉู 4: Redis ุงุฌุฑุง ููโุดูุฏ

**ุนูุงุฆู:**
- ุฎุทุง: `Redis is not running`
- ุชุณุช: `Redis (Port 6379)` = โ

**ุฑุงูโุญู:**
```powershell
# ุจุง Docker
docker start redis

# ุง ุงุฌุงุฏ container ุฌุฏุฏ
docker run -d --name redis -p 6379:6379 redis:7-alpine
```

### ูุดฺฉู 5: Nginx ุงุฌุฑุง ููโุดูุฏ

**ุนูุงุฆู:**
- ุฎุทุง: `Nginx process not found`
- ุชุณุช: `Nginx Process` = โ

**ุฑุงูโุญู:**
```powershell
# ุจุฑุฑุณ ูุณุฑ Nginx
C:\nginx\nginx.exe

# ุงุฌุฑุง ุฏุณุช
cd C:\nginx
.\nginx.exe

# ุจุฑุฑุณ ุฎุทุงูุง
.\nginx.exe -t
```

## ฺฺฉโูุณุช ุฑุงูโุงูุฏุงุฒ

ูุจู ุงุฒ ุงุฌุฑุง `start.ps1`ุ ุงู ููุงุฑุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

- [ ] IIS ูุชููู ุงุณุช (`iisreset /stop`)
- [ ] ูพูุฑุช 80 ุขุฒุงุฏ ุงุณุช
- [ ] Node.js ูุตุจ ุงุณุช (`node --version`)
- [ ] Python ูุตุจ ุงุณุช (`python --version`)
- [ ] Frontend build ุดุฏู ุงุณุช (`frontend\dist` ูุฌูุฏ ุฏุงุฑุฏ)
- [ ] Redis ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช (ุงุฎุชุงุฑ ุงูุง ุชูุตู ูโุดูุฏ)

## ุฏุณุชุฑุณ ุจู ุณุงุช

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒ ููููุ ุณุงุช ุฏุฑ ุขุฏุฑุณโูุง ุฒุฑ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:

- ๐ **Local:** http://localhost
- ๐ **Internet:** http://191.101.113.163
- ๐ **Domain:** http://myaibaz.ir (via Cloudflare)

## ูุงฺฏโูุง ู ุฏุจุงฺฏ

### ุจุฑุฑุณ ูุงฺฏ Backend:
```powershell
# ุฏุฑ ูพูุฌุฑู Backend ฺฉู ุจุงุฒ ูโุดูุฏ
# ุง ุฏุฑ ูุงู:
backend\logs\
```

### ุจุฑุฑุณ ูุงฺฏ Frontend:
```powershell
# ุฏุฑ ูพูุฌุฑู Frontend ฺฉู ุจุงุฒ ูโุดูุฏ
# ุง ุฏุฑ Developer Tools ูุฑูุฑฺฏุฑ (F12)
```

### ุจุฑุฑุณ ูุงฺฏ Nginx:
```powershell
C:\nginx\logs\error.log
C:\nginx\logs\access.log
```

## ุชุณุช ุฏุณุช

### ุชุณุช 1: ุฏุณุชุฑุณ ุจู Frontend
```powershell
Invoke-WebRequest -Uri "http://localhost" -UseBasicParsing
```

### ุชุณุช 2: ุฏุณุชุฑุณ ุจู Backend API
```powershell
Invoke-WebRequest -Uri "http://localhost:8000/api/auth/check/" -UseBasicParsing
```

### ุชุณุช 3: ุฏุณุชุฑุณ ุจู API via Proxy
```powershell
Invoke-WebRequest -Uri "http://localhost/api/auth/check/" -UseBasicParsing
```

## ูฺฉุงุช ููู

1. **ุงูู Backend ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ** - Frontend ุจู Backend ูุงุฒ ุฏุงุฑุฏ
2. **ุตุจุฑ ฺฉูุฏ** - ุจุนุฏ ุงุฒ ุงุฌุฑุง `start.ps1`ุ 10-15 ุซุงูู ุตุจุฑ ฺฉูุฏ
3. **ุชุณุช ฺฉูุฏ** - ููุดู ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒุ `test_site.ps1` ุฑุง ุงุฌุฑุง ฺฉูุฏ
4. **ูพูุฑุช 80** - ุงฺฏุฑ ูพูุฑุช 80 ุงุดุบุงู ุงุณุชุ ุณุงุช ุจุงุฒ ููโุดูุฏ
5. **Build Frontend** - ุงฺฏุฑ Frontend build ูุดุฏูุ ุณุงุช ฺฉุงุฑ ููโฺฉูุฏ

## ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ุญู ูุดุฏ:

1. ุงุณฺฉุฑูพุช ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูุฏ: `.\test_site.ps1`
2. ุฎุฑูุฌ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ูุงฺฏโูุง ุฑุง ฺฺฉ ฺฉูุฏ
4. ูุทูุฆู ุดูุฏ ููู ูพุดโูุงุฒูุง ูุตุจ ูุณุชูุฏ

