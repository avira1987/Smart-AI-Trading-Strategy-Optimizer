# ฺฏุฒุงุฑุด ููุง - ุชูุธูุงุช IIS ู ุฏุณุชุฑุณ ุจู ูุจโุณุงุช

## ุฎูุงุตู ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู

### โ ฺฉุงุฑูุง ุชฺฉูู ุดุฏู:

1. **ุชูุธูุงุช IIS:**
   - IIS ุฑุงูโุงูุฏุงุฒ ุดุฏ
   - Site "MyWebsite" ุชูุธู ุดุฏ
   - Bindings ุจุฑุง ุฏุงููู ุงุถุงูู ุดุฏ:
     - `myaibaz.ir:80`
     - `www.myaibaz.ir:80`
   - `web.config` ุจุฑุง Reverse Proxy ุชูุธู ุดุฏ

2. **ุชูุธูุงุช Reverse Proxy:**
   - Rule ุจุฑุง Backend API: `/api/*` โ `http://191.101.113.163:8000/api/*`
   - Rule ุจุฑุง Frontend: ุณุงุฑ ุฏุฑุฎูุงุณุชโูุง โ `http://191.101.113.163:3000/*`
   - Proxy ุฏุฑ ARR ูุนุงู ุดุฏ
   - Server Variables ูุนุงู ุดุฏูุฏ

3. **ุชูุธูุงุช Firewall:**
   - ูพูุฑุช 80 ุฏุฑ ูุงุฑูุงู ุจุงุฒ ุดุฏ

4. **ุงุณฺฉุฑูพุชโูุง ุงุฌุงุฏ ุดุฏู:**
   - `setup_iis_for_domain.ps1` - ุชูุธูุงุช ฺฉุงูู IIS
   - `test_and_fix_website.ps1` - ุชุณุช ุฏุณุชุฑุณ
   - `start_services.ps1` - ุฑุงูโุงูุฏุงุฒ ุณุฑูุณโูุง
   - `start_frontend_now.ps1` - ุฑุงูโุงูุฏุงุฒ Frontend
   - `check_status.ps1` - ุจุฑุฑุณ ูุถุนุช
   - `final_test_website.ps1` - ุชุณุช ููุง

## ูุถุนุช ูุนู

### ุณุฑูุณโูุง:
- โ **IIS**: ุฏุฑ ุญุงู ุงุฌุฑุง
- โ **Backend (Port 8000)**: ุฏุฑ ุญุงู ุงุฌุฑุง
- โ๏ธ **Frontend (Port 3000)**: ูุงุฒ ุจู ุฑุงูโุงูุฏุงุฒ

### ูุดฺฉู ุจุงูโูุงูุฏู:
Frontend ุฑู ูพูุฑุช 3000 ุฏุฑ ุญุงู ุงุฌุฑุง ูุณุช. ุงู ุจุงุนุซ ุฎุทุง 503 ูโุดูุฏ ฺูู IIS ููโุชูุงูุฏ ุจู Frontend ูุชุตู ุดูุฏ.

## ุฑุงูโุญู

### ุจุฑุง ุฑุงูโุงูุฏุงุฒ Frontend:

**ฺฏุฒูู 1: ุงุณุชูุงุฏู ุงุฒ Preview Server (ุชูุตู ูโุดูุฏ)**
```powershell
cd frontend
npm run build
npm run preview -- --port 3000 --host 0.0.0.0
```

**ฺฏุฒูู 2: ุงุณุชูุงุฏู ุงุฒ Dev Server**
```powershell
cd frontend
npm run dev -- --port 3000 --host 0.0.0.0
```

**ฺฏุฒูู 3: ุงุณุชูุงุฏู ุงุฒ ุงุณฺฉุฑูพุช**
```powershell
.\start_frontend_now.ps1
```

## ุฏุณุชุฑุณ ุจู ุณุงุช

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒ Frontendุ ุณุงุช ุฏุฑ ุขุฏุฑุณโูุง ุฒุฑ ุฏุฑ ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ:

- โ `http://191.101.113.163` (ุจุง IP - ุจุฏูู ูพูุฑุช)
- โ `http://myaibaz.ir` (ุจุง ุฏุงููู - ุจุฏูู ูพูุฑุช)

## ุชุณุช ููุง

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒ Frontendุ ุงู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```powershell
.\check_status.ps1
```

ุง:

```powershell
.\final_test_website.ps1
```

## ูฺฉุงุช ููู

1. **Frontend ุจุงุฏ ููุดู ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดุฏ** - ุงฺฏุฑ Frontend ูุชููู ุดูุฏุ IIS ุฎุทุง 503 ูโุฏูุฏ

2. **ุจุฑุง Production** - ุจูุชุฑ ุงุณุช Frontend ุฑุง ุจู ุนููุงู Windows Service ุงุฌุฑุง ฺฉูุฏ ุง ุงุฒ NSSM ุงุณุชูุงุฏู ฺฉูุฏ

3. **ุจุฑุง ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ** - ูโุชูุงูุฏ ุงุฒ Task Scheduler ุงุณุชูุงุฏู ฺฉูุฏ ุชุง Frontend ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุนุฏ ุงุฒ restart ุณุฑูุฑ ุฑุงูโุงูุฏุงุฒ ุดูุฏ

## ูุงูโูุง ููู

- `C:\inetpub\wwwroot\web.config` - ุชูุธูุงุช Reverse Proxy
- `setup_iis_for_domain.ps1` - ุงุณฺฉุฑูพุช ุชูุธูุงุช IIS
- `start_frontend_now.ps1` - ุฑุงูโุงูุฏุงุฒ Frontend

## ูุฑุงุญู ุจุนุฏ

1. โ IIS ุชูุธู ุดุฏ
2. โ Backend ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช
3. โ๏ธ **Frontend ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ** (ุฏุณุชูุฑุงุช ุจุงูุง)
4. โ ุชุณุช ุฏุณุชุฑุณ ุจุง IP ู ุฏุงููู

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒ Frontendุ ููู ฺุฒ ุจุงุฏ ฺฉุงุฑ ฺฉูุฏ! ๐



